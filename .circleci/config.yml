# Use the latest 2.1 version of CircleCI pipeline process engine.
# See: https://circleci.com/docs/2.0/configuration-reference
orbs:
 docker: circleci/docker@1.5.0
version: 2.1
executors:
 docker-publisher: 
 environment:
 IMAGE_NAME: kumagaur/docker-go-app
 docker: # Each job requires specifying an executor
 # (either docker, macos, or machine), see
 — image: circleci/golang:1.15.1
 auth:
 username: $DOCKERHUB_USERNAME
 password: $DOCKERHUB_PASSWORD
jobs:
 publishLatestToHub: 
 executor: docker-publisher
 
 steps: 
 — checkout
 — setup_remote_docker
 — run: 
 name: Publish Docker Image to Docker Hub
 command: |
 echo “$DOCKERHUB_PASSWORD” | docker login -u “$DOCKERHUB_USERNAME” — password-stdin
 docker build -t $IMAGE_NAME .
 docker push $IMAGE_NAME:latest
workflows:
 version: 2
 build-master:
 jobs:
 — publishLatestToHub

The config.yml is the magic that tells circleci what to do with our app, for this demo we want it to build a docker image.
In circleci *workflows* are simply orchestrators, they order how things should be done, *executors* defines or groups up task, *jobs* define the basic steps and commands to run.
